<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æ™ºèƒ½ä¹ æƒ¯é…æ–¹ç”Ÿæˆå™¨</title>
    <style>
        body { max-width: 800px; margin: 20px auto; padding: 20px; font-family: 'Microsoft YaHei'; }
        .card { border: 1px solid #ddd; padding: 20px; margin: 15px 0; border-radius: 8px; }
        button { background: #4CAF50; color: white; padding: 10px 20px; border: none; border-radius: 4px; cursor: pointer; }
        .custom-input { margin-top: 10px; width: 95%; padding: 8px; }
        .flex-group { display: flex; gap: 10px; }
        select { flex: 1; padding: 8px; }
        #output { font-size: 1.2em; margin-top: 20px; }
    </style>
</head>
<body>
    <h1>æ™ºèƒ½ä¹ æƒ¯é…æ–¹ç”Ÿæˆå™¨</h1>

    <!-- é”šç‚¹è¡Œä¸º -->
    <div class="card">
        <h3>åœ¨......ä¹‹å</h3>
        <div class="flex-group">
            <select id="anchorAction">
                <!-- ğŸŸ¢ æ‰©å±•é”šç‚¹ï¼šåœ¨æ­¤æ·»åŠ option -->
                <option value="èµ·åºŠ">èµ·åºŠ</option>
                <option value="åˆ·ç‰™">åˆ·ç‰™</option>
                <option value="æ´—è„¸">æ´—è„¸</option>
                <option value="ä¸Šå«ç”Ÿé—´">ä¸Šå«ç”Ÿé—´</option>
                <option value="åƒæ—©é¤">åƒæ—©é¤</option>
                <option value="é€šå‹¤æ—¶">é€šå‹¤æ—¶</option>
                <option value="åˆ°åŠå…¬å®¤">åˆ°åŠå…¬å®¤</option>
                <option value="æ‰“å¼€ç”µè„‘">æ‰“å¼€ç”µè„‘</option>
                <option value="ä¼šè®®ç»“æŸå">ä¼šè®®ç»“æŸå</option>
                <option value="åˆä¼‘å‰">åˆä¼‘å‰</option>
                <option value="ä¸‹ç­æ‰“å¡">ä¸‹ç­æ‰“å¡</option>
                <option value="ä¸ŠåºŠ">ä¸ŠåºŠ</option>
            </select>
            <input type="text" id="customAnchor" class="custom-input" placeholder="æˆ–è¾“å…¥è‡ªå®šä¹‰é”šç‚¹">
        </div>
    </div>

    <!-- æ–°ä¹ æƒ¯ -->
    <div class="card">
        <h3>æˆ‘ä¼šåš......</h3>
        <div class="flex-group">
            <select id="habitCategory" onchange="loadHabits()">
                <!-- ğŸŸ¢ æ‰©å±•åˆ†ç±»ï¼šåœ¨æ­¤æ·»åŠ option -->
                <option value="health">å¥åº·</option>
                <option value="efficiency">æ•ˆç‡</option>
                <option value="learning">å­¦ä¹ </option>
                <option value="mind">å¿ƒæ€</option>
                <option value="family">å®¶åº­</option>
            </select>
            <select id="newHabit"></select>
            <input type="text" id="customHabit" class="custom-input" placeholder="æˆ–è¾“å…¥è‡ªå®šä¹‰ä¹ æƒ¯">
        </div>
    </div>

    <button onclick="generateFormula()">ç”Ÿæˆä¹ æƒ¯é…æ–¹</button>

    <div class="card" id="output">
        <h3>ä½ çš„ä¸“å±ä¹ æƒ¯é…æ–¹ï¼š</h3>
        <p id="habitFormula"></p>
    </div>

    <script>
        // ğŸŸ¢ æ‰©å±•æ•°æ®ï¼šåœ¨æ­¤ä¿®æ”¹habitDataç»“æ„
        const habitData = {
            health: [
                "å–ä¸€æ¯æ¸©æ°´", 
                "åš10ä¸ªæ·±è¹²",
                "æµ‹é‡ä½“é‡",
                "è¡¥å……ç»´ç”Ÿç´ "
            ],
            efficiency: [
                "åˆ—å‡ºä»Šæ—¥ä¸‰ä»¶äº‹",
                "æ•´ç†å·¥ä½œå°",
                "è®¾ç½®25åˆ†é’Ÿç•ªèŒ„é’Ÿ",
                "æ¸…ç†é‚®ç®±"
            ],
            learning: [
                "è¯»ä¸“ä¸šæ–‡ç« 10åˆ†é’Ÿ",
                "èƒŒ5ä¸ªå•è¯",
                "å†™å­¦ä¹ ç¬”è®°",
                "è§‚çœ‹æ•™å­¦è§†é¢‘"
            ],
            mind: [
                "å†¥æƒ³3åˆ†é’Ÿ",
                "è®°å½•æ„Ÿæ©æ—¥è®°",
                "æ·±å‘¼å¸ç»ƒä¹ ",
                "æ­£å¿µè§‚å¯Ÿ"
            ],
            family: [
                "ç»™å®¶äººå‘é—®å€™",
                "è§„åˆ’å®¶åº­æ´»åŠ¨",
                "å‡†å¤‡å°ç¤¼ç‰©",
                "è§†é¢‘é€šè¯"
            ]
        };

        // åˆå§‹åŒ–åŠ è½½ä¹ æƒ¯
        function loadHabits() {
            const category = document.getElementById("habitCategory").value;
            const select = document.getElementById("newHabit");
            select.innerHTML = "";
            
            habitData[category].forEach(habit => {
                const option = new Option(habit, habit);
                select.add(option);
            });
        }

        function generateFormula() {
            // è·å–é”šç‚¹ï¼ˆä¼˜å…ˆä½¿ç”¨è‡ªå®šä¹‰ï¼‰
            const anchor = document.getElementById("customAnchor").value.trim() || 
                         document.getElementById("anchorAction").value;
            
            // è·å–ä¹ æƒ¯ï¼ˆä¼˜å…ˆä½¿ç”¨è‡ªå®šä¹‰ï¼‰
            const habit = document.getElementById("customHabit").value.trim() || 
                         document.getElementById("newHabit").value;

            // ç”Ÿæˆé…æ–¹
            const formula = `åœ¨ã€${anchor}ã€‘ä¹‹åï¼Œæˆ‘ä¼šã€${habit}ã€‘`;
            document.getElementById("habitFormula").textContent = formula;

            // ä¿å­˜è®°å½•
            const history = JSON.parse(localStorage.getItem("habitHistory")) || [];
            history.push({
                timestamp: new Date().toISOString(),
                formula: formula,
                category: document.getElementById("habitCategory").value
            });
            localStorage.setItem("habitHistory", JSON.stringify(history));
        }

        // åˆå§‹åŒ–
        loadHabits();
    </script>
</body>
</html>